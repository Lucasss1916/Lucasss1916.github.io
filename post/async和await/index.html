<!doctype html><html lang=zh-cn dir=ltr><head><title>Asyncå’ŒAwait :: Lucasçš„åšå®¢ - Example site for hugo-theme-tailwind</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=stylesheet href=/css/index.css><style>.fixed.right-0.top-0,.tailwind-size-indicator{display:none!important}body{background:0 0!important;position:relative;width:100%;overflow-x:hidden}.wallpaper-bg{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-20;object-fit:cover;opacity:1;transition:opacity .8s ease}.bg-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-19;background:rgba(0,0,0,.1);pointer-events:none}.dark .bg-overlay{background:rgba(0,0,0,.4)}.bg-white,.bg-slate-50,.bg-gray-50,.bg-zinc-50,.bg-neutral-50,article,.content-glass{background-color:rgba(255,255,255,.75)!important;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.4);box-shadow:0 4px 6px -1px rgba(0,0,0,5%);border-radius:.75rem}aside{background-color:rgba(255,255,255,.75)!important;backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.4);border-radius:1rem!important;overflow:hidden!important;padding:1rem 0;margin-top:2rem}.header-transparent{background-color:rgba(255,255,255,.6)!important;backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.2)}header nav ul,header label[for=darkmode-toggle]{background-color:rgba(255,255,255,.5)!important;backdrop-filter:blur(8px)!important;border:1px solid rgba(255,255,255,.3)!important;box-shadow:0 2px 4px rgba(0,0,0,5%)!important}header a img{background-color:initial!important}.bg-slate-100,.bg-gray-100,.bg-zinc-100,.bg-slate-200,.bg-gray-200,.bg-zinc-200{background-color:rgba(255,255,255,.5)!important;backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);border-radius:.5rem}.dark .bg-white,.dark .bg-gray-700,.dark article,.dark .content-glass,.dark aside{background-color:rgba(30,41,59,.75)!important;border:1px solid rgba(255,255,255,8%);color:#e2e8f0}.dark .header-transparent{background-color:rgba(15,23,42,.6)!important;border-bottom:1px solid rgba(255,255,255,5%)}.dark header nav ul,.dark header label[for=darkmode-toggle]{background-color:rgba(30,41,59,.6)!important;border:1px solid rgba(255,255,255,.1)!important}.bg-white .bg-white,.content-glass .bg-white,.dark .bg-gray-700 .dark .bg-gray-700{background-color:initial!important;border:none!important;box-shadow:none!important;backdrop-filter:none!important}.prose pre,.highlight{background-color:#1e293b!important;opacity:1!important;border:1px solid rgba(255,255,255,.1)}</style></head><body class="flex flex-col min-h-screen w-full bg-transparent text-slate-900 dark:text-slate-100" style=padding-bottom:100px><div class="fixed inset-0 -z-20"><img src=https://wallhaven.991600.xyz/ alt=Background class=wallpaper-bg id=wallpaper-bg loading=eager crossorigin=anonymous><div class=bg-overlay></div></div><header class="flex flex-none justify-center z-10 header-transparent sticky top-0"><div class="w-full max-w-7xl flex justify-center"><div class="flex flex-row gap justify-between w-full max-w-4xl lg:max-w-5xl h-12 mt-3"><div class="flex-none ml-2 md:ml-0"><a href=/><img class="h-12 w-12 rounded-full object-cover bg-gray-100" src=/images/avatar.jpg alt=logo></a></div><div class=flex-1></div><div class=flex-none><nav class="h-full static"><button id=navbar-menu-toggle type=button class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg md:hidden" aria-controls=navbar-menu aria-expanded=false>
<span class=sr-only>æ‰“å¼€èœå•</span>
<i class="w-8 h-8"><svg class="icon icon-tabler icon-tabler-menu-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg></i></button><div class="absolute md:static top-16 left-0 right-0 z-50 hidden w-full md:block md:w-auto" id=navbar-menu><ul class="flex flex-col mx-2 md:mx-0 md:flex-row md:border-0 rounded-xs md:rounded-full px-3 text-base font-medium text-slate-800 dark:text-slate-200 shadow-lg bg-white dark:bg-gray-600 shadow-slate-800/5 dark:shadow-slate-200/5 ring-1 ring-slate-900/5 dark:ring-slate-100/5"><li id=home><a class="block px-3 py-3 hover:text-emerald-600" href=/ title=é¦–é¡µ>é¦–é¡µ</a></li><li id=posts><a class="block px-3 py-3 hover:text-emerald-600 text-emerald-600" href=/post/ title=æ–‡ç« >æ–‡ç« </a></li><li id=categories><a class="block px-3 py-3 hover:text-emerald-600" href=/categories/ title=åˆ†ç±»>åˆ†ç±»</a></li><li id=tags><a class="block px-3 py-3 hover:text-emerald-600" href=/tags/ title=æ ‡ç­¾>æ ‡ç­¾</a></li><li id=about><a class="block px-3 py-3 hover:text-emerald-600" href=/about/ title=å…³äº>å…³äº</a></li></ul></div></nav></div><div class="flex-none mx-1"></div><div class="flex-none md:hidden"><a href=/search/ class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg" aria-controls=navbar-menu aria-expanded=false><span class=sr-only>æœç´¢</span>
<i class="w-8 h-8"><svg class="icon icon-tabler icon-tabler-search" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1014 0A7 7 0 103 10"/><path d="M21 21l-6-6"/></svg></i></a></div><div class="darkmode-toggle flex flex-none mr-2 md:mr-0"><label for=darkmode-toggle class="relative flex items-center gap-1 px-3 cursor-pointer rounded-full bg-gray-100 dark:bg-gray-600" title=åˆ‡æ¢å¤œé—´æ¨¡å¼><input name=darkmode-toggle id=darkmode-toggle type=checkbox class="sr-only peer" aria-label=åˆ‡æ¢å¤œé—´æ¨¡å¼><div class="absolute z-10 w-15 h-8 rounded-full bg-white dark:bg-gray-700"></div><i class="h-6 w-6 z-20 ml-1 flex-none rounded-full bg-yellow-400 place-self-center peer-checked:invisible"><svg class="icon icon-tabler icon-tabler-brightness-down" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-3 0a3 3 0 106 0 3 3 0 10-6 0"/><path d="M12 5v.01"/><path d="M17 7v.01"/><path d="M19 12v.01"/><path d="M17 17v.01"/><path d="M12 19v.01"/><path d="M7 17v.01"/><path d="M5 12v.01"/><path d="M7 7v.01"/></svg>
</i><i class="h-6 w-6 z-20 mr-1 flex-none rounded-full place-self-center invisible peer-checked:visible"><svg class="icon icon-tabler icon-tabler-moon-stars" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/><path d="M17 4a2 2 0 002 2 2 2 0 00-2 2 2 2 0 00-2-2 2 2 0 002-2"/><path d="M19 11h2m-1-1v2"/></svg></i></label></div></div></div></header><main class="flex-grow w-full py-8 px-4"><div class="relative w-full max-w-7xl mx-auto flex flex-col items-center"><div id=progress class="fixed top-0 left-0 w-full h-1 bg-blue-500 z-50"></div><div class="w-full max-w-4xl lg:max-w-5xl"><div class="content-glass flex flex-col mt-6 mx-2 md:mx-0 rounded-lg overflow-hidden mb-8"><div><a href=/post/async%E5%92%8Cawait/></a></div><div class="flex flex-col gap-y-3 p-6"><h1 class="text-4xl font-semibold text-slate-800 dark:text-slate-100"><a href=/post/async%E5%92%8Cawait/>Asyncå’ŒAwait</a></h1><ul class="flex flex-row flex-wrap text-slate-500 dark:text-slate-300"><li><a href=/categories/%E5%AD%A6%E4%B9%A0/ class="text-sm mr-2 px-2 py-1 rounded-sm border border-emerald-800 bg-emerald-800 text-slate-50">å­¦ä¹ </a></li><li><a href=/categories/c%23/ class="text-sm mr-2 px-2 py-1 rounded-sm border border-emerald-800 bg-emerald-800 text-slate-50">C#</a></li><li><a href=/categories/unity/ class="text-sm mr-2 px-2 py-1 rounded-sm border border-emerald-800 bg-emerald-800 text-slate-50">Unity</a></li><li><a href=/tags/%E5%AD%A6%E4%B9%A0/ class="flex flex-row text-sm mr-2 py-1"><i class="h-5 w-5 flex-none"><svg class="icon icon-tabler icon-tabler-hash" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 9h14"/><path d="M5 15h14"/><path d="M11 4 7 20"/><path d="M17 4l-4 16"/></svg>
</i><span class=ml-0>å­¦ä¹ </span></a></li><li><a href=/tags/csharp/ class="flex flex-row text-sm mr-2 py-1"><i class="h-5 w-5 flex-none"><svg class="icon icon-tabler icon-tabler-hash" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 9h14"/><path d="M5 15h14"/><path d="M11 4 7 20"/><path d="M17 4l-4 16"/></svg>
</i><span class=ml-0>CSharp</span></a></li><li><a href=/tags/unity/ class="flex flex-row text-sm mr-2 py-1"><i class="h-5 w-5 flex-none"><svg class="icon icon-tabler icon-tabler-hash" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 9h14"/><path d="M5 15h14"/><path d="M11 4 7 20"/><path d="M17 4l-4 16"/></svg>
</i><span class=ml-0>Unity</span></a></li></ul><div class="flex flex-col gap-y-1 md:flex-row md:gap-y-0 md:gap-x-4 text-slate-500 dark:text-slate-300"><div class="flex flex-row text-base gap-x-1"><i class="h-6 w-6 flex-none"><svg class="icon icon-tabler icon-tabler-calendar" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7z"/><path d="M16 3v4"/><path d="M8 3v4"/><path d="M4 11h16"/><path d="M11 15h1"/><path d="M12 15v3"/></svg>
</i><time datetime=2026-01-28T15:25:01+08:00>2026-01-28</time></div><div class="flex flex-row text-base gap-x-1"><i class="h-6 w-6 flex-none"><svg class="icon icon-tabler icon-tabler-hourglass-high" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.5 7h11"/><path d="M6 20v-2a6 6 0 1112 0v2a1 1 0 01-1 1H7a1 1 0 01-1-1z"/><path d="M6 4v2a6 6 0 1012 0V4a1 1 0 00-1-1H7A1 1 0 006 4z"/></svg>
</i><span>é˜…è¯»æ—¶é•¿3åˆ†é’Ÿ</span></div></div><div class="flex flex-col gap-y-1 md:flex-row md:gap-y-0 md:gap-x-4 text-slate-500 dark:text-slate-300"><div class="flex flex-row text-base gap-x-1"><i class="h-6 w-6 flex-none"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-user"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 7a4 4 0 108 0A4 4 0 008 7"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
</i><span>Lucas</span></div></div><section class="prose prose-slate dark:prose-invert w-full max-w-none mt-6 bg-transparent"><h2 class="text-xl font-bold mb-2">ç›®å½•</h2><aside class=bg-transparent><nav id=TableOfContents><ul><li><a href=#1-cä¸­çš„asyncå’Œawait>1. C#ä¸­çš„Asyncå’ŒAwait</a></li><li><a href=#2-unityçš„ç‰¹æ®Šæ€§>2. unityçš„ç‰¹æ®Šæ€§</a></li><li><a href=#3-unityè§£å†³æ–¹æ¡ˆ>3. Unityè§£å†³æ–¹æ¡ˆ</a><ul><li><a href=#31-awaitableè¯­æ³•>3.1. awaitableè¯­æ³•</a></li><li><a href=#32-awaitableè¿”å›å€¼å¤„ç†>3.2. awaitableè¿”å›å€¼å¤„ç†</a></li><li><a href=#33-awaitableå¼‚å¸¸å¤„ç†>3.3. awaitableå¼‚å¸¸å¤„ç†</a></li><li><a href=#34-awaitableå–æ¶ˆæ“ä½œ>3.4. awaitableå–æ¶ˆæ“ä½œ</a></li><li><a href=#35-awaitable-çš„å¹¶è¡Œæ‰§è¡Œ>3.5. Awaitable çš„å¹¶è¡Œæ‰§è¡Œ</a></li></ul></li></ul></nav></aside></section><article class="mt-6 w-full max-w-none prose prose-slate dark:prose-invert prose-quoteless post-content bg-transparent"><h2 id=1-cä¸­çš„asyncå’Œawait>1. C#ä¸­çš„Asyncå’ŒAwait</h2><p>asyncå’Œawaitæ˜¯c#ä¸­ç”¨äºç®€åŒ–å¼‚æ­¥ç¼–ç¨‹çš„è¯­æ³•ç³–ã€‚</p><ul><li>asyncä¸»è¦ç”¨äºæ ‡è®°ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯å¼‚æ­¥æ–¹æ³•ã€‚</li><li>åœ¨asyncçš„æ–¹æ³•ä¸­æ‰èƒ½ä½¿ç”¨awaitã€‚</li><li>æ™®é€šæ–¹æ³•è¿”å›Tï¼Œasyncæ–¹æ³•è¿”å›Task&lt; T ></li></ul><pre tabindex=0><code>public async Task ProcessDataAsync()
{
    Console.WriteLine(&#34;æ­¥éª¤1ï¼šå¼€å§‹&#34;);
    
    // è¿™è¡Œä»£ç ä¼šè¢«ç¼–è¯‘å™¨&#34;åˆ‡å‰²&#34;
    string data = await DownloadAsync(&#34;url&#34;); // &lt;-- åˆ‡å‰²ç‚¹
    
    //å°†æ–¹æ³•è¿›è¡Œåˆ‡å‰²ï¼Œç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œå†ç»§ç»­æ‰§è¡Œ
    Console.WriteLine(&#34;æ­¥éª¤2ï¼šå®Œæˆï¼Œæ•°æ®=&#34; + data);
}
</code></pre><h2 id=2-unityçš„ç‰¹æ®Šæ€§>2. unityçš„ç‰¹æ®Šæ€§</h2><p>åœ¨unityä¸­ä¸èƒ½ç›´æ¥ä½¿ç”¨c#çš„å¼‚æ­¥ï¼Œå› ä¸ºUnity APIå¿…é¡»åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨
è€ƒè™‘åˆ°ï¼šæ€§èƒ½å’Œç¨³å®šæ€§ä»¥åŠé¿å…å¤šçº¿ç¨‹çš„å¤æ‚æ€§ä»¥åŠbugã€‚</p><h2 id=3-unityè§£å†³æ–¹æ¡ˆ>3. Unityè§£å†³æ–¹æ¡ˆ</h2><p>å¯¹æ¯”ä¼ ç»Ÿçš„coroutineï¼Œæ–°æ–¹æ¡ˆAwaitableæœ‰æ›´å¤šçš„æœ‰ç‚¹</p><table><thead><tr><th>ç‰¹æ€§</th><th>åç¨‹ (Coroutine)</th><th>Awaitable (Unity 2023+)</th></tr></thead><tbody><tr><td><strong>å¼•å…¥æ—¶é—´</strong></td><td>Unity æ—©æœŸå°±æœ‰</td><td>Unity 2023.1+</td></tr><tr><td><strong>è¯­æ³•é£æ ¼</strong></td><td><code>yield return</code></td><td><code>async/await</code></td></tr><tr><td><strong>è¿”å›ç±»å‹</strong></td><td><code>IEnumerator</code></td><td><code>Awaitable</code> / <code>Awaitable&lt;T></code></td></tr><tr><td><strong>è¿”å›å€¼</strong></td><td>âŒ ä¸æ”¯æŒç›´æ¥è¿”å›</td><td>âœ… æ”¯æŒ <code>Awaitable&lt;T></code></td></tr><tr><td><strong>å¼‚å¸¸å¤„ç†</strong></td><td>âŒ å›°éš¾ï¼ˆéœ€è¦try-catchåŒ…è£¹æ•´ä¸ªæ–¹æ³•ï¼‰</td><td>âœ… æ ‡å‡†çš„ try-catch</td></tr><tr><td><strong>å–æ¶ˆæ“ä½œ</strong></td><td>âŒ éœ€è¦æ‰‹åŠ¨å®ç°</td><td>âœ… æ”¯æŒ CancellationToken</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>âš¡ è½»é‡ï¼ˆå°‘é‡GCï¼‰</td><td>âš¡âš¡ æ›´ä¼˜åŒ–ï¼ˆå‡ ä¹é›¶GCï¼‰</td></tr><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>ğŸ”· Unityç‰¹æœ‰æ¦‚å¿µ</td><td>ğŸ”· æ ‡å‡†C#çŸ¥è¯†</td></tr><tr><td><strong>ä»£ç å¯è¯»æ€§</strong></td><td>ğŸ‘ è¾ƒå·®ï¼ˆåµŒå¥—å¤æ‚ï¼‰</td><td>ğŸ‘ å¾ˆå¥½ï¼ˆçº¿æ€§æµç¨‹ï¼‰</td></tr></tbody></table><h3 id=31-awaitableè¯­æ³•>3.1. awaitableè¯­æ³•</h3><pre tabindex=0><code>// ========== Awaitable å†™æ³• ==========
//å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦é€šè¿‡startcoroutineå¯åŠ¨
public class AwaitableVersion : MonoBehaviour
{
    async void Start()
    {
        Debug.Log(&#34;ç­‰å¾…å¼€å§‹&#34;);
        
        await Awaitable.WaitForSecondsAsync(2f);
        
        Debug.Log(&#34;2ç§’åæ‰§è¡Œ&#34;);
    }
}
</code></pre><pre tabindex=0><code>// ========== Awaitable é¡ºåºæ‰§è¡Œå¤šä¸ªæ“ä½œ ==========
async Awaitable SequenceAwaitable()
{
    // ç§»åŠ¨åˆ°ä½ç½®1
    await MoveToAsync(position1);
    
    // ç­‰å¾…2ç§’
    await Awaitable.WaitForSecondsAsync(2f);
    
    // ç§»åŠ¨åˆ°ä½ç½®2
    await MoveToAsync(position2);
    
    Debug.Log(&#34;å…¨éƒ¨å®Œæˆ&#34;);
}
async Awaitable MoveToAsync(Vector3 target)
{
    while (Vector3.Distance(transform.position, target) &gt; 0.1f)
    {
        transform.position = Vector3.MoveTowards(
            transform.position, 
            target, 
            Time.deltaTime * 5f
        );
        await Awaitable.NextFrameAsync(); // ç­‰å¾…ä¸‹ä¸€å¸§
    }
}
</code></pre><h3 id=32-awaitableè¿”å›å€¼å¤„ç†>3.2. awaitableè¿”å›å€¼å¤„ç†</h3><pre tabindex=0><code>// ========== Awaitableï¼ˆç›´æ¥è¿”å›ï¼‰==========
public class AwaitableReturn : MonoBehaviour
{
    async void Start()
    {
        // âœ… ç›´æ¥è·å–è¿”å›å€¼
        string data = await DownloadDataAsync();
        Debug.Log(&#34;æ”¶åˆ°æ•°æ®ï¼š&#34; + data);
        
        // âœ… ç»§ç»­å¤„ç†ï¼Œä»£ç çº¿æ€§æµç•…
        bool success = await ProcessDataAsync(data);
        Debug.Log(&#34;å¤„ç†å®Œæˆï¼š&#34; + success);
        
        // âœ… æ‰€æœ‰é€»è¾‘åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œï¼Œæ¸…æ™°æ˜äº†
    }
    
    async Awaitable&lt;string&gt; DownloadDataAsync()
    {
        await Awaitable.WaitForSecondsAsync(2f);
        return &#34;ä¸‹è½½çš„æ•°æ®&#34;; // âœ… ç›´æ¥è¿”å›
    }
    
    async Awaitable&lt;bool&gt; ProcessDataAsync(string data)
    {
        await Awaitable.WaitForSecondsAsync(1f);
        return true; // âœ… ç›´æ¥è¿”å›
    }
}
</code></pre><h3 id=33-awaitableå¼‚å¸¸å¤„ç†>3.3. awaitableå¼‚å¸¸å¤„ç†</h3><pre tabindex=0><code>// ========== Awaitable çš„é”™è¯¯å¤„ç† ==========
public class AwaitableError : MonoBehaviour
{
    async void Start()
    {
        // âœ… æ ‡å‡†çš„ try-catchï¼Œåƒæ™®é€šæ–¹æ³•ä¸€æ ·
        try
        {
            await RiskyOperationAsync();
            Debug.Log(&#34;æ“ä½œæˆåŠŸ&#34;);
        }
        catch (System.Exception e)
        {
            Debug.LogError(&#34;æ•è·é”™è¯¯ï¼š&#34; + e.Message);
            // âœ… å¯ä»¥åœ¨è¿™é‡Œå¤„ç†é”™è¯¯
        }
        finally
        {
            Debug.Log(&#34;æ¸…ç†èµ„æº&#34;);
        }
    }
    
    async Awaitable RiskyOperationAsync()
    {
        await Awaitable.WaitForSecondsAsync(1f);
        
        // æŠ›å‡ºå¼‚å¸¸
        throw new System.Exception(&#34;å‡ºé”™äº†ï¼&#34;);
        
        // å¼‚å¸¸ä¼šè‡ªåŠ¨ä¼ é€’ç»™è°ƒç”¨è€…
    }
    
    // âœ… å¤šå±‚è°ƒç”¨ä¹Ÿèƒ½æ­£ç¡®ä¼ é€’å¼‚å¸¸
    async Awaitable ChainedOperation()
    {
        try
        {
            await RiskyOperationAsync(); // å¼‚å¸¸ä¼šå‘ä¸Šä¼ é€’
        }
        catch (System.Exception e)
        {
            Debug.LogError(&#34;åœ¨é“¾å¼è°ƒç”¨ä¸­æ•è·ï¼š&#34; + e.Message);
            throw; // å¯ä»¥é€‰æ‹©ç»§ç»­å‘ä¸ŠæŠ›å‡º
        }
    }
}
</code></pre><h3 id=34-awaitableå–æ¶ˆæ“ä½œ>3.4. awaitableå–æ¶ˆæ“ä½œ</h3><pre tabindex=0><code>// ========== Awaitable çš„å–æ¶ˆï¼ˆæ ‡å‡†åŒ–ï¼‰==========
public class AwaitableCancel : MonoBehaviour
{
    private CancellationTokenSource cts;
    
    void Start()
    {
        cts = new CancellationTokenSource();
        LongOperationAsync(cts.Token).Forget(); // å¯åŠ¨å¼‚æ­¥æ“ä½œ
    }
    
    async Awaitable LongOperationAsync(CancellationToken token)
    {
        try
        {
            for (int i = 0; i &lt; 10; i++)
            {
                // âœ… è‡ªåŠ¨æ£€æŸ¥å–æ¶ˆè¯·æ±‚
                token.ThrowIfCancellationRequested();
                
                Debug.Log(&#34;æ­¥éª¤ &#34; + i);
                
                // âœ… ç­‰å¾…æ—¶ä¹Ÿä¼šå“åº”å–æ¶ˆ
                await Awaitable.WaitForSecondsAsync(1f, token);
            }
        }
        catch (OperationCanceledException)
        {
            Debug.Log(&#34;æ“ä½œè¢«å–æ¶ˆ&#34;);
        }
        finally
        {
            // âœ… finally å—ä¿è¯æ‰§è¡Œï¼Œå¯ä»¥æ¸…ç†èµ„æº
            Debug.Log(&#34;æ¸…ç†èµ„æº&#34;);
        }
    }
    
    // å–æ¶ˆæ“ä½œ
    public void Cancel()
    {
        cts?.Cancel(); // âœ… ä¸€è¡Œä»£ç å–æ¶ˆæ‰€æœ‰ç›¸å…³æ“ä½œ
    }
    
    void OnDestroy()
    {
        // âœ… å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨å–æ¶ˆ
        cts?.Cancel();
        cts?.Dispose();
        
        // æˆ–è€…ä½¿ç”¨ Unity çš„æ‰©å±•æ–¹æ³•
        // var token = this.GetCancellationTokenOnDestroy();
    }
}

// æ‰©å±•æ–¹æ³•ï¼šForget() ç”¨äºä¸éœ€è¦ç­‰å¾…çš„å¼‚æ­¥æ“ä½œ
public static class AwaitableExtensions
{
    public static async void Forget(this Awaitable awaitable)
    {
        try
        {
            await awaitable;
        }
        catch (System.Exception e)
        {
            Debug.LogException(e);
        }
    }
}
</code></pre><h3 id=35-awaitable-çš„å¹¶è¡Œæ‰§è¡Œ>3.5. Awaitable çš„å¹¶è¡Œæ‰§è¡Œ</h3><pre tabindex=0><code>// ========== Awaitable å¹¶è¡Œï¼ˆç®€å•ï¼‰==========
public class AwaitableParallel : MonoBehaviour
{
    async void Start()
    {
        // âœ… æ–¹æ³•1ï¼šä½¿ç”¨ WhenAll ç­‰å¾…æ‰€æœ‰ä»»åŠ¡
        await Awaitable.WhenAll(
            Task1Async(),
            Task2Async(),
            Task3Async()
        );
        
        Debug.Log(&#34;æ‰€æœ‰ä»»åŠ¡å®Œæˆ&#34;);
        
        // âœ… æ–¹æ³•2ï¼šè·å–æ‰€æœ‰ä»»åŠ¡çš„è¿”å›å€¼
        var results = await Awaitable.WhenAll(
            DownloadAsync(&#34;url1&#34;),
            DownloadAsync(&#34;url2&#34;),
            DownloadAsync(&#34;url3&#34;)
        );
        
        foreach (var result in results)
        {
            Debug.Log(&#34;ç»“æœï¼š&#34; + result);
        }
    }
    
    async Awaitable Task1Async()
    {
        await Awaitable.WaitForSecondsAsync(1f);
        Debug.Log(&#34;ä»»åŠ¡1å®Œæˆ&#34;);
    }
    
    async Awaitable 
</code></pre></article><div class="mt-8 pt-6 border-t border-slate-200 dark:border-slate-700"></div></div></div></div></div></main><footer style=position:fixed;bottom:0;left:0;width:100%;z-index:50;display:flex;justify-content:center;padding-bottom:16px;pointer-events:none><div class="w-full max-w-7xl px-4 flex justify-center" style=pointer-events:auto><div class="content-glass px-6 py-3 w-full max-w-5xl text-center" style=background-color:rgba(255,255,255,.4)!important;backdrop-filter:blur(15px)><section class="flex flex-col md:flex-row mx-2 md:mx-0 gap-2 md:gap-0 justify-between w-full max-w-4xl lg:max-w-5xl py-6 text-slate-500 dark:text-slate-300"><div class="flex flex-row"></div><div class=grow></div><div class="flex flex-row"><i class="h-6 w-6 flex-none"><svg class="icon icon-tabler icon-tabler-copyright" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-9 0a9 9 0 1018 0A9 9 0 103 12"/><path d="M14 9.75a3.016 3.016.0 00-4.163.173 2.993 2.993.0 000 4.154A3.016 3.016.0 0014 14.25"/></svg>
</i>2024 - 2026 Lucas</div><div class="flex flex-row"><span class="ml-0 pl-0 md:ml-2 md:pl-2 border-l-0 md:border-l border-slate-300 dark:border-slate-400">Powered by <a href=https://gohugo.io target=_blank rel=noopener class=underline>Hugo</a> <span class=text-red-600>&#9829;</span> <a href=https://github.com/tomowang/hugo-theme-tailwind target=_blank rel=noopener class=underline>Tailwind</a></span></div></section></div></div></footer><script src=/main.min.65ca5b0808abf278fcec5d424701ebf0b4bc46a737129cd5e57fdb739f463e79.js></script><div class="hidden top-1 right-1" id=code-copy><i class="h-6 w-6 block"><svg class="icon icon-tabler icon-tabler-copy" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7m0 2.667A2.667 2.667.0 019.667 7h8.666A2.667 2.667.0 0121 9.667v8.666A2.667 2.667.0 0118.333 21H9.667A2.667 2.667.0 017 18.333z"/><path d="M4.012 16.737A2.005 2.005.0 013 15V5c0-1.1.9-2 2-2h10c.75.0 1.158.385 1.5 1"/></svg></i></div><div class="hidden top-1 right-1" id=code-copy-done><i class="h-6 w-6 block"><svg class="icon icon-tabler icon-tabler-check" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5L20 7"/></svg></i></div><script src=/code-copy.min.e7b2a74adef1ed474c335c8bd5e7832b2316b8842b0f9184d65286c5bd64f51a.js></script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("wallpaper-bg");if(!e)return;e.style.opacity="1",e.addEventListener("error",function(){this.src="https://source.unsplash.com/random/1920x1080/?nature,gradient"}),e.style.cursor="pointer",e.addEventListener("click",function(){this.style.opacity="0",setTimeout(()=>{const e=(new Date).getTime();this.src=`https://wallhaven.991600.xyz/?t=${e}`},300)}),e.addEventListener("load",function(){this.style.opacity="1"})})</script></body></html>